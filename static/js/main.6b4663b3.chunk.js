(this.webpackJsonpeuro_2020=this.webpackJsonpeuro_2020||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),i=n(4),s=n.n(i),r=n(5),o=n(6),h=n(2),u=n(8),d=n(7),l=(n(13),n(0));function m(t){var e,n,a=t.match,c=t.teams.find((function(t){return t.id===a.home_team})),i=t.teams.find((function(t){return t.id===a.away_team})),s=t.stadiums.find((function(t){return t.id===a.stadium}));return void 0!==c&&void 0!==i?(e="".concat(c.flag.unicode," ").concat(c.name),n="".concat(i.name," ").concat(i.flag.unicode)):(e="To be decided",n="To be decided"),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[e," vs ",n]}),Object(l.jsx)("div",{children:new Date(a.date).toLocaleString()}),Object(l.jsxs)("div",{children:[s.name,", ",s.city]})]})}function j(t){var e=t.match;console.log(e);var n=t.teams.find((function(t){return t.id===e.home_team})),a=t.teams.find((function(t){return t.id===e.away_team})),c="".concat(n.flag.unicode," ").concat(n.name),i="".concat(a.name," ").concat(a.flag.unicode);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[c," vs ",i]}),Object(l.jsxs)("div",{children:[e.home_result," : ",e.away_result]})]})}var f=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={matches:null,filteredMatches:null,i:null,now2h:null},a.prevMatch=a.prevMatch.bind(Object(h.a)(a)),a.nextMatch=a.nextMatch.bind(Object(h.a)(a)),a.filterByTeam=a.filterByTeam.bind(Object(h.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("https://raw.githubusercontent.com/lsv/uefa-euro-2020/master/data.json").then((function(t){return t.json()})).then((function(e){console.log(e);for(var n=[],a=0;a<e.groups.length;a++)n=n.concat(e.groups[a].matches);for(var c in e.knockoutphases)n=n.concat(e.knockoutphases[c].matches);n=n.sort((function(t,e){return new Date(t.date).getTime()-new Date(e.date).getTime()}));var i=new Date;i.setHours(i.getHours()-2),t.setState({matches:n,filteredMatches:n,teams:e.teams,stadiums:e.stadiums,i:t.currentMatchIndex(n,i),now2h:i})}))}},{key:"currentMatchIndex",value:function(t,e){for(var n=t.length-1,a=0;a<t.length;a++)if(new Date(t[a].date)>e){n=a;break}return n}},{key:"nextMatch",value:function(){this.setState((function(t){return t.i+1>=t.filteredMatches.length?{i:t.filteredMatches.length-1}:{i:t.i+1}}))}},{key:"prevMatch",value:function(){this.setState((function(t){return t.i-1<=0?{i:0}:{i:t.i-1}}))}},{key:"filterByTeam",value:function(t){var e=this,n=t.target.value;""===n?this.setState((function(t){return{filteredMatches:t.matches,i:e.currentMatchIndex(t.matches,t.now2h)}})):this.setState((function(t){var a=t.matches.filter((function(t){return t.home_team===n||t.away_team===n}));return{filteredMatches:a,i:e.currentMatchIndex(a,t.now2h)}}))}},{key:"render",value:function(){if(null===this.state.matches)return console.log("loading"),Object(l.jsx)("div",{className:"loading",children:"Loading"});var t,e=this.state.filteredMatches[this.state.i];return t=new Date(e.date)>this.state.now2h?Object(l.jsx)(m,{match:e,teams:this.state.teams,stadiums:this.state.stadiums}):Object(l.jsx)(j,{match:e,teams:this.state.teams}),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("select",{onChange:this.filterByTeam,children:[Object(l.jsx)("option",{value:"",children:"All matches"}),this.state.teams.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(t,e){return Object(l.jsx)("option",{value:t.id,children:t.name},e)}))]})}),Object(l.jsx)("div",{className:"match",children:t}),Object(l.jsxs)("div",{className:"navigation",children:[Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:this.prevMatch,children:"Prev match"})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:this.nextMatch,children:"Next match"})})]})]})})}}]),n}(c.a.Component);s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.6b4663b3.chunk.js.map