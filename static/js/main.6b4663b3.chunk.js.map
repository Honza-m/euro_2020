{"version":3,"sources":["App.js","index.js"],"names":["FutureMatch","props","homeTeamStr","awayTeamStr","m","match","homeTeam","teams","find","t","id","home_team","awayTeam","away_team","stadium","stadiums","s","undefined","flag","unicode","name","Date","date","toLocaleString","city","PastMatch","console","log","home_result","away_result","App","state","matches","filteredMatches","i","now2h","prevMatch","bind","nextMatch","filterByTeam","fetch","then","response","json","data","groups","length","concat","round","knockoutphases","sort","a","b","getTime","setHours","getHours","setState","currentMatchIndex","this","e","teamID","target","value","filtered","filter","className","matchInfo","onChange","localeCompare","map","team","onClick","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yNAGA,SAASA,EAAYC,GACnB,IAQIC,EAAaC,EARXC,EAAIH,EAAMI,MACVC,EAAWL,EAAMM,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEC,KAAON,EAAEO,aAC9CC,EAAWX,EAAMM,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEC,KAAON,EAAES,aAG9CC,EAAUb,EAAMc,SAASP,MAAK,SAACQ,GAAD,OAAQA,EAAEN,KAAON,EAAEU,WAYvD,YARiBG,IAAbX,QAAuCW,IAAbL,GAC5BV,EAAW,UAAMI,EAASY,KAAKC,QAApB,YAA+Bb,EAASc,MACnDjB,EAAW,UAAMS,EAASQ,KAAf,YAAuBR,EAASM,KAAKC,WAEhDjB,EAAc,gBACdC,EAAc,iBAId,gCACE,gCAAMD,EAAN,OAAuBC,KACvB,8BAAM,IAAIkB,KAAKjB,EAAEkB,MAAMC,mBACvB,gCAAMT,EAAQM,KAAd,KAAsBN,EAAQU,WAKpC,SAASC,EAAUxB,GACjB,IAAMG,EAAIH,EAAMI,MAChBqB,QAAQC,IAAIvB,GACZ,IAAME,EAAWL,EAAMM,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEC,KAAON,EAAEO,aAC9CC,EAAWX,EAAMM,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEC,KAAON,EAAES,aAC9CX,EAAW,UAAMI,EAASY,KAAKC,QAApB,YAA+Bb,EAASc,MACnDjB,EAAW,UAAMS,EAASQ,KAAf,YAAuBR,EAASM,KAAKC,SACtD,OACE,gCACE,gCAAMjB,EAAN,OAAuBC,KACvB,gCAAMC,EAAEwB,YAAR,MAAwBxB,EAAEyB,kB,IA0JjBC,E,kDApJb,WAAY7B,GAAQ,IAAD,8BACjB,cAAMA,IAED8B,MAAQ,CACXC,QAAS,KACTC,gBAAiB,KACjBC,EAAG,KACHC,MAAO,MAGT,EAAKC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,UAAY,EAAKA,UAAUD,KAAf,gBACjB,EAAKE,aAAe,EAAKA,aAAaF,KAAlB,gBAZH,E,qDAenB,WAAqB,IAAD,OAClBG,MAAM,yEACLC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJlB,QAAQC,IAAIiB,GAGZ,IAFA,IAAIZ,EAAU,GAELE,EAAE,EAAGA,EAAEU,EAAKC,OAAOC,OAAQZ,IAClCF,EAAUA,EAAQe,OAAOH,EAAKC,OAAOX,GAAGF,SAG1C,IAAK,IAAIgB,KAASJ,EAAKK,eACrBjB,EAAUA,EAAQe,OAChBH,EAAKK,eAAeD,GAAOhB,SAI/BA,EAAUA,EAAQkB,MAAK,SAACC,EAAGC,GACzB,OAAO,IAAI/B,KAAK8B,EAAE7B,MAAM+B,UAAY,IAAIhC,KAAK+B,EAAE9B,MAAM+B,aAIvD,IAAMlB,EAAQ,IAAId,KAClBc,EAAMmB,SAASnB,EAAMoB,WAAa,GAGlC,EAAKC,SAAS,CACZxB,QAASA,EACTC,gBAAiBD,EACjBzB,MAAOqC,EAAKrC,MACZQ,SAAU6B,EAAK7B,SACfmB,EAAG,EAAKuB,kBAAkBzB,EAASG,GACnCA,MAAOA,S,+BAKb,SAAkBH,EAASG,GAEzB,IADA,IAAIG,EAAYN,EAAQc,OAAS,EACxBZ,EAAE,EAAGA,EAAEF,EAAQc,OAAQZ,IAC9B,GAAG,IAAIb,KAAKW,EAAQE,GAAGZ,MAAQa,EAAO,CACpCG,EAAYJ,EACZ,MAGJ,OAAOI,I,uBAGT,WACEoB,KAAKF,UAAS,SAACzB,GACb,OAAIA,EAAMG,EAAI,GAAKH,EAAME,gBAAgBa,OAChC,CAACZ,EAAGH,EAAME,gBAAgBa,OAAS,GAEnC,CAACZ,EAAGH,EAAMG,EAAI,Q,uBAK3B,WACEwB,KAAKF,UAAS,SAACzB,GACb,OAAIA,EAAMG,EAAI,GAAK,EACV,CAACA,EAAG,GAEJ,CAACA,EAAGH,EAAMG,EAAI,Q,0BAK3B,SAAayB,GAAI,IAAD,OACRC,EAASD,EAAEE,OAAOC,MACT,KAAXF,EACFF,KAAKF,UAAS,SAACzB,GAAD,MAAY,CACxBE,gBAAiBF,EAAMC,QACvBE,EAAG,EAAKuB,kBAAkB1B,EAAMC,QAASD,EAAMI,WAGjDuB,KAAKF,UAAS,SAACzB,GACb,IAAMgC,EAAWhC,EAAMC,QAAQgC,QAAO,SAAC5D,GAAD,OAAOA,EAAEO,YAAciD,GAAUxD,EAAES,YAAc+C,KACvF,MAAO,CACL3B,gBAAiB8B,EACjB7B,EAAG,EAAKuB,kBAAkBM,EAAUhC,EAAMI,a,oBAMlD,WACE,GAA2B,OAAvBuB,KAAK3B,MAAMC,QAEb,OADAN,QAAQC,IAAI,WACL,qBAAKsC,UAAU,UAAf,qBAGT,IAEIC,EAFE7D,EAAQqD,KAAK3B,MAAME,gBAAgByB,KAAK3B,MAAMG,GAepD,OAXEgC,EADE,IAAI7C,KAAKhB,EAAMiB,MAAQoC,KAAK3B,MAAMI,MAElC,cAACnC,EAAD,CACEK,MAAOA,EACPE,MAAOmD,KAAK3B,MAAMxB,MAClBQ,SAAU2C,KAAK3B,MAAMhB,WAIb,cAACU,EAAD,CAAWpB,MAAOA,EAAOE,MAAOmD,KAAK3B,MAAMxB,QAIvD,qBAAK0D,UAAU,MAAf,SACE,sBAAKA,UAAU,MAAf,UACE,8BACE,yBAAQE,SAAUT,KAAKnB,aAAvB,UACE,wBAAQuB,MAAM,GAAd,yBACCJ,KAAK3B,MAAMxB,MAAM2C,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE/B,KAAKgD,cAAchB,EAAEhC,SAAOiD,KAAI,SAACC,EAAMpC,GAAP,OAAa,wBAAQ4B,MAAOQ,EAAK5D,GAApB,SAAiC4D,EAAKlD,MAATc,WAGjH,qBAAK+B,UAAU,QAAf,SACGC,IAEH,sBAAKD,UAAU,aAAf,UACE,8BACE,wBAAQM,QAASb,KAAKtB,UAAtB,0BAEF,8BACE,wBAAQmC,QAASb,KAAKpB,UAAtB,sC,GA5IIkC,IAAMC,WCzCxBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.6b4663b3.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\n\nfunction FutureMatch(props){\n  const m = props.match;\n  const homeTeam = props.teams.find((t) => t.id === m.home_team);\n  const awayTeam = props.teams.find((t) => t.id === m.away_team);\n\n  // Get stadium info\n  const stadium = props.stadiums.find((s) => (s.id === m.stadium))\n\n  // Get team info\n  let homeTeamStr, awayTeamStr;\n  if (homeTeam !== undefined && awayTeam !== undefined) {\n    homeTeamStr = `${homeTeam.flag.unicode} ${homeTeam.name}`\n    awayTeamStr = `${awayTeam.name} ${awayTeam.flag.unicode}`\n  } else {\n    homeTeamStr = 'To be decided'\n    awayTeamStr = 'To be decided'\n  }\n  \n  return (\n    <div>\n      <div>{homeTeamStr} vs {awayTeamStr}</div>\n      <div>{new Date(m.date).toLocaleString()}</div>\n      <div>{stadium.name}, {stadium.city}</div>\n    </div>\n  )\n}\n\nfunction PastMatch(props){\n  const m = props.match;\n  console.log(m);\n  const homeTeam = props.teams.find((t) => t.id === m.home_team);\n  const awayTeam = props.teams.find((t) => t.id === m.away_team);\n  const homeTeamStr = `${homeTeam.flag.unicode} ${homeTeam.name}`\n  const awayTeamStr = `${awayTeam.name} ${awayTeam.flag.unicode}`\n  return (\n    <div>\n      <div>{homeTeamStr} vs {awayTeamStr}</div>\n      <div>{m.home_result} : {m.away_result}</div>\n    </div>\n  )\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      matches: null,\n      filteredMatches: null,\n      i: null,\n      now2h: null\n    };\n\n    this.prevMatch = this.prevMatch.bind(this);\n    this.nextMatch = this.nextMatch.bind(this);\n    this.filterByTeam = this.filterByTeam.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('https://raw.githubusercontent.com/lsv/uefa-euro-2020/master/data.json')\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n      let matches = []\n      // Get matches from all groups\n      for (let i=0; i<data.groups.length; i++) {\n        matches = matches.concat(data.groups[i].matches)\n      };\n      // Get matches from knockout phases\n      for (let round in data.knockoutphases) {\n        matches = matches.concat(\n          data.knockoutphases[round].matches\n        );\n      }\n      // Sort matches by date\n      matches = matches.sort((a, b) => {\n        return new Date(a.date).getTime() - new Date(b.date).getTime()\n      })\n\n      // Get current time\n      const now2h = new Date();\n      now2h.setHours(now2h.getHours() - 2);\n      \n      // Update state\n      this.setState({\n        matches: matches,\n        filteredMatches: matches,\n        teams: data.teams,\n        stadiums: data.stadiums,\n        i: this.currentMatchIndex(matches, now2h),\n        now2h: now2h\n      });\n    });\n  }\n\n  currentMatchIndex(matches, now2h){\n    let nextMatch = matches.length - 1;\n    for (let i=0; i<matches.length; i++){\n      if(new Date(matches[i].date) > now2h) {\n        nextMatch = i;\n        break;\n      };\n    };\n    return nextMatch\n  }\n\n  nextMatch() {\n    this.setState((state) => {\n      if (state.i + 1 >= state.filteredMatches.length){\n        return {i: state.filteredMatches.length - 1}\n      } else {\n        return {i: state.i + 1}\n      }\n    })\n  }\n\n  prevMatch() {\n    this.setState((state) => {\n      if (state.i - 1 <= 0){\n        return {i: 0}\n      } else {\n        return {i: state.i - 1}\n      }\n    })\n  }\n\n  filterByTeam(e) {\n    const teamID = e.target.value;\n    if (teamID === ''){\n      this.setState((state) => ({\n        filteredMatches: state.matches,\n        i: this.currentMatchIndex(state.matches, state.now2h)\n      }))\n    } else {\n      this.setState((state) => {\n        const filtered = state.matches.filter((m) => m.home_team === teamID || m.away_team === teamID)\n        return {\n          filteredMatches: filtered, \n          i: this.currentMatchIndex(filtered, state.now2h)\n        }\n      })\n    }\n  }\n\n  render() {\n    if (this.state.matches === null){\n      console.log('loading');\n      return <div className=\"loading\">Loading</div>\n    }\n\n    const match = this.state.filteredMatches[this.state.i];\n\n    let matchInfo;\n    if (new Date(match.date) > this.state.now2h){\n      matchInfo = (\n        <FutureMatch\n          match={match}\n          teams={this.state.teams}\n          stadiums={this.state.stadiums}\n        />\n      )\n    } else {\n      matchInfo = <PastMatch match={match} teams={this.state.teams} />\n    }\n\n    return (\n      <div className=\"App\">\n        <div className=\"box\">\n          <div>\n            <select onChange={this.filterByTeam}>\n              <option value=\"\">All matches</option>\n              {this.state.teams.sort((a, b) => a.name.localeCompare(b.name)).map((team, i) => <option value={team.id} key={i}>{team.name}</option>)}\n            </select>\n          </div>\n          <div className=\"match\">\n            {matchInfo}\n          </div>\n          <div className=\"navigation\">\n            <div>\n              <button onClick={this.prevMatch}>Prev match</button>\n            </div>\n            <div>\n              <button onClick={this.nextMatch}>Next match</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}