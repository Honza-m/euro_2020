(this.webpackJsonpeuro_2020=this.webpackJsonpeuro_2020||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(4),i=a.n(c),r=a(5),l=a(6),d=a(2),h=a(8),o=a(7),u=(a(13),a(0));function m(e){var t=e.match,a=e.teams.find((function(e){return e.id===t.home_team})),n=e.teams.find((function(e){return e.id===t.away_team})),s=e.stadiums.find((function(e){return e.id===t.stadium}));return void 0===a&&(a={name:"To be decided",flag:{unicode:""}}),void 0===n&&(n={name:"To be decided",flag:{unicode:""}}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"names",children:[Object(u.jsx)("div",{className:"home flag",children:a.flag.unicode}),Object(u.jsx)("div",{className:"home name",children:a.name}),Object(u.jsx)("div",{className:"vs",children:" vs "}),Object(u.jsx)("div",{className:"away flag left",children:n.flag.unicode}),Object(u.jsx)("div",{className:"away name",children:n.name}),Object(u.jsx)("div",{className:"away flag right",children:n.flag.unicode})]}),Object(u.jsxs)("div",{className:"desc",children:[Object(u.jsx)("div",{children:new Date(t.date).toLocaleString()}),Object(u.jsxs)("div",{children:[s.name,", ",s.city]})]})]})}function j(e){var t=e.match,a=e.teams.find((function(e){return e.id===t.home_team})),n=e.teams.find((function(e){return e.id===t.away_team}));return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"names",children:[Object(u.jsx)("div",{className:"home flag",children:a.flag.unicode}),Object(u.jsx)("div",{className:"home name",children:a.name}),Object(u.jsx)("div",{className:"vs",children:" vs "}),Object(u.jsx)("div",{className:"away flag left",children:n.flag.unicode}),Object(u.jsx)("div",{className:"away name",children:n.name}),Object(u.jsx)("div",{className:"away flag right",children:n.flag.unicode})]}),Object(u.jsxs)("div",{className:"score",children:[t.home_result," : ",t.away_result]})]})}var f=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={matches:null,filteredMatches:null,i:null,now2h:null},n.prevMatch=n.prevMatch.bind(Object(d.a)(n)),n.nextMatch=n.nextMatch.bind(Object(d.a)(n)),n.filterByTeam=n.filterByTeam.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://raw.githubusercontent.com/lsv/uefa-euro-2020/master/data.json").then((function(e){return e.json()})).then((function(t){for(var a=[],n=0;n<t.groups.length;n++)a=a.concat(t.groups[n].matches);for(var s in t.knockoutphases)a=a.concat(t.knockoutphases[s].matches);a=a.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}));var c=new Date;c.setHours(c.getHours()-2),e.setState({matches:a,filteredMatches:a,teams:t.teams,stadiums:t.stadiums,i:e.currentMatchIndex(a,c),now2h:c})}))}},{key:"currentMatchIndex",value:function(e,t){for(var a=e.length-1,n=0;n<e.length;n++)if(new Date(e[n].date)>t){a=n;break}return a}},{key:"nextMatch",value:function(){this.setState((function(e){return e.i+1>=e.filteredMatches.length?{i:e.filteredMatches.length-1}:{i:e.i+1}}))}},{key:"prevMatch",value:function(){this.setState((function(e){return e.i-1<=0?{i:0}:{i:e.i-1}}))}},{key:"filterByTeam",value:function(e){var t=this,a=e.target.value;""===a?this.setState((function(e){return{filteredMatches:e.matches,i:t.currentMatchIndex(e.matches,e.now2h)}})):this.setState((function(e){var n=e.matches.filter((function(e){return e.home_team===a||e.away_team===a}));return{filteredMatches:n,i:t.currentMatchIndex(n,e.now2h)}}))}},{key:"render",value:function(){if(null===this.state.matches)return console.log("loading"),Object(u.jsx)("div",{className:"loading",children:"Loading"});var e,t=this.state.filteredMatches[this.state.i];return e=new Date(t.date)>this.state.now2h?Object(u.jsx)(m,{match:t,teams:this.state.teams,stadiums:this.state.stadiums}):Object(u.jsx)(j,{match:t,teams:this.state.teams}),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("select",{onChange:this.filterByTeam,children:[Object(u.jsx)("option",{value:"",children:"All matches"}),this.state.teams.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e,t){return Object(u.jsx)("option",{value:e.id,children:e.name},t)}))]})}),Object(u.jsx)("div",{className:"match",children:e}),Object(u.jsxs)("div",{className:"navigation",children:[Object(u.jsx)("div",{children:0!==this.state.i?Object(u.jsx)("button",{onClick:this.prevMatch,children:"Prev match"}):""}),Object(u.jsx)("div",{children:this.state.i===this.state.filteredMatches.length-1?"":Object(u.jsx)("button",{onClick:this.nextMatch,children:"Next match"})})]})]})})}}]),a}(s.a.Component);i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5f0cd4fa.chunk.js.map