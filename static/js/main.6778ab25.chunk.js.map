{"version":3,"sources":["App.js","index.js"],"names":["FutureMatch","props","m","match","homeTeam","teams","find","t","id","home_team","awayTeam","away_team","stadium","stadiums","s","undefined","name","flag","unicode","className","Date","date","toLocaleString","city","PastMatch","home_result","away_result","App","state","matches","filteredMatches","i","now2h","prevMatch","bind","nextMatch","filterByTeam","fetch","then","response","json","data","groups","length","concat","round","knockoutphases","sort","a","b","getTime","setHours","getHours","setState","currentMatchIndex","this","changedMatch","e","teamID","target","value","filtered","filter","matchInfo","CSSTransition","in","appear","classNames","onChange","localeCompare","map","team","TransitionGroup","timeout","onClick","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6778ab25.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nfunction FutureMatch(props){\n  const m = props.match;\n  let homeTeam = props.teams.find((t) => t.id === m.home_team);\n  let awayTeam = props.teams.find((t) => t.id === m.away_team);\n\n  // Get stadium info\n  const stadium = props.stadiums.find((s) => (s.id === m.stadium))\n\n  // Get team info\n  if (homeTeam === undefined) {\n   homeTeam = {name: 'To be decided', flag: {unicode: ''}}\n  }\n  if (awayTeam === undefined) {\n    awayTeam = {name: 'To be decided', flag: {unicode: ''}}\n  }\n   \n  \n  return (\n    <div>\n       <div className=\"names\">\n        <div className=\"home flag\">{homeTeam.flag.unicode}</div>\n        <div className=\"home name\">{homeTeam.name}</div>\n        <div className=\"vs\"> vs </div>\n        <div className=\"away flag left\">{awayTeam.flag.unicode}</div>\n        <div className=\"away name\">{awayTeam.name}</div>\n        <div className=\"away flag right\">{awayTeam.flag.unicode}</div>\n      </div>\n      <div className=\"desc\">\n        <div>{new Date(m.date).toLocaleString()}</div>\n        <div>{stadium.name}, {stadium.city}</div>\n      </div>\n    </div>\n  )\n}\n\nfunction PastMatch(props){\n  const m = props.match;\n  const homeTeam = props.teams.find((t) => t.id === m.home_team);\n  const awayTeam = props.teams.find((t) => t.id === m.away_team);\n  return (\n    <div>\n      <div className=\"names\">\n        <div className=\"home flag\">{homeTeam.flag.unicode}</div>\n        <div className=\"home name\">{homeTeam.name}</div>\n        <div className=\"vs\"> vs </div>\n        <div className=\"away flag left\">{awayTeam.flag.unicode}</div>\n        <div className=\"away name\">{awayTeam.name}</div>\n        <div className=\"away flag right\">{awayTeam.flag.unicode}</div>\n      </div>\n      <div className=\"score\">{m.home_result} : {m.away_result}</div>\n    </div>\n  )\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      matches: null,\n      filteredMatches: null,\n      i: null,\n      now2h: null\n    };\n\n    this.prevMatch = this.prevMatch.bind(this);\n    this.nextMatch = this.nextMatch.bind(this);\n    this.filterByTeam = this.filterByTeam.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('https://raw.githubusercontent.com/lsv/uefa-euro-2020/master/data.json')\n    .then(response => response.json())\n    .then(data => {\n      let matches = []\n      // Get matches from all groups\n      for (let i=0; i<data.groups.length; i++) {\n        matches = matches.concat(data.groups[i].matches)\n      };\n      // Get matches from knockout phases\n      for (let round in data.knockoutphases) {\n        matches = matches.concat(\n          data.knockoutphases[round].matches\n        );\n      }\n      // Sort matches by date\n      matches = matches.sort((a, b) => {\n        return new Date(a.date).getTime() - new Date(b.date).getTime()\n      })\n\n      // Get current time\n      const now2h = new Date();\n      now2h.setHours(now2h.getHours() - 2);\n      \n      // Update state\n      this.setState({\n        matches: matches,\n        filteredMatches: matches,\n        teams: data.teams,\n        stadiums: data.stadiums,\n        i: this.currentMatchIndex(matches, now2h),\n        now2h: now2h\n      });\n    });\n  }\n\n  currentMatchIndex(matches, now2h){\n    let nextMatch = matches.length - 1;\n    for (let i=0; i<matches.length; i++){\n      if(new Date(matches[i].date) > now2h) {\n        nextMatch = i;\n        break;\n      };\n    };\n    return nextMatch\n  }\n\n  nextMatch() {\n    this.setState({changedMatch: false})\n    this.setState((state) => {\n      return {i: state.i + 1, changedMatch: true}\n    })\n  }\n\n  prevMatch() {\n    this.setState({changedMatch: false})\n    this.setState((state) => {\n      return {i: state.i - 1, changedMatch: true}\n    })\n  }\n\n  filterByTeam(e) {\n    const teamID = e.target.value;\n    if (teamID === ''){\n      this.setState((state) => ({\n        filteredMatches: state.matches,\n        i: this.currentMatchIndex(state.matches, state.now2h)\n      }))\n    } else {\n      this.setState((state) => {\n        const filtered = state.matches.filter((m) => m.home_team === teamID || m.away_team === teamID)\n        return {\n          filteredMatches: filtered, \n          i: this.currentMatchIndex(filtered, state.now2h)\n        }\n      })\n    }\n  }\n\n  render() {\n    if (this.state.matches === null){\n      return (\n        <div className=\"loading-wrapper\">\n          <div className=\"loading\"><div></div><div></div><div></div></div>\n        </div>\n      )\n    }\n\n    const match = this.state.filteredMatches[this.state.i];\n\n    let matchInfo;\n    if (new Date(match.date) > this.state.now2h){\n      matchInfo = (\n        <FutureMatch\n          match={match}\n          teams={this.state.teams}\n          stadiums={this.state.stadiums}\n        />\n      )\n    } else {\n      matchInfo = <PastMatch match={match} teams={this.state.teams} />\n    }\n\n    return (\n      <div className=\"App\">\n        <CSSTransition in={true} appear={true} classNames='fade'>\n          <div className='box'>\n            <div>\n              <select onChange={this.filterByTeam}>\n                <option value=\"\">All matches</option>\n                {this.state.teams.sort((a, b) => a.name.localeCompare(b.name)).map((team, i) => <option value={team.id} key={i}>{team.name}</option>)}\n              </select>\n            </div>\n            <TransitionGroup className=\"match\">\n              <CSSTransition \n                key={this.state.filteredMatches[this.state.i].id}\n                timeout={300}\n                classNames='fade'\n              >\n                {matchInfo}\n              </CSSTransition>\n            </TransitionGroup>\n            <div className=\"navigation\">\n              <div>{this.state.i !== 0 ? <button onClick={this.prevMatch}>Prev match</button> : '' }</div>\n              <div>{this.state.i === this.state.filteredMatches.length - 1 ? '' : <button onClick={this.nextMatch}>Next match</button>}</div>\n            </div>\n          </div>\n        </CSSTransition>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}